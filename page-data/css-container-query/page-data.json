{"componentChunkName":"component---src-templates-blog-post-js","path":"/css-container-query/","result":{"data":{"markdownRemark":{"html":"<p>She's finally here. Well, almost.</p>\n<p>One of the most requested web features finally sees the light of day. As of today, container query is on its first <strong>public working draft</strong> — meaning this feature has proven to be essential and deemed possible to be included in future versions.</p>\n<p>You can even try it now on Google Chrome. Go to <code class=\"language-text\">chrome://flags/#enable-container-queries</code> on your Chrome browser, set it to <code class=\"language-text\">enabled</code> and you’re good to go.</p>\n<h2>Container Query</h2>\n<p>A new CSS query that offers a possibility for a descendant element to apply styling rules based on the container.</p>\n<p>While media query applies specific styling based on viewport and media preferences, container query takes it a step further by allowing the contained element to target the container elements. This offers more granular controls to the contained element.</p>\n<p>Here's simple usage of container query,</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.card</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.container</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">container-type</span><span class=\"token punctuation\">:</span> inline-size<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@container</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 300px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token selector\">.card</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> blue<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This basically tells the browser to apply style <code class=\"language-text\">background-color: blue</code> <strong>if</strong> the container is at least 300px wide.</p>\n<p>The syntaxes are fairly simple and quite similar to that of media query. Container query comes with <strong>three extra properties</strong> and <strong>a rule</strong>.</p>\n<p>First, we have <code class=\"language-text\">container-type</code>, this property is used to establish the element as <strong>query container</strong>, this will allow the child component to query against it.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.foo</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">container-type</span><span class=\"token punctuation\">:</span> none | style | state | size | inline-size | block-size<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Second, <code class=\"language-text\">container-name</code> sets a name to the container for further filtering. Sometimes we might not want to target the nearest ancestor container, this property serves as an escape hatch.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.foo</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">container-name</span><span class=\"token punctuation\">:</span> my-container<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And finally, <code class=\"language-text\">container</code> is used as a shorthand property that can be used to set both <code class=\"language-text\">container-type</code> and <code class=\"language-text\">container-name</code> in a single declaration.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.foo</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">container</span><span class=\"token punctuation\">:</span> inline-size / my-container<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>To target the container, we use <code class=\"language-text\">@container</code> to specify the rule to target the nearest containment context.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">// Applies if the nearest query container is at least 700px wide\n<span class=\"token atrule\"><span class=\"token rule\">@container</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 700px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n// Applies if the nearest query container has an inline-size of more than 100px\n<span class=\"token atrule\"><span class=\"token rule\">@container</span> <span class=\"token punctuation\">(</span>inline-size > 100px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n// Applies if the nearest query container named `my-component` is at least 700px wide\n<span class=\"token atrule\"><span class=\"token rule\">@container</span> my-component <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 700px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>This is very exciting because the child element can be made aware of its surroundings and can decide for itself how to react.!</p>\n<h2>A Highly Modular Component</h2>\n<p>Consider a <strong>Card</strong> component, a fairly common piece of an element that you've probably seen before. This component has the following attributes: A thumbnail, a headline, a description, and some tags.</p>\n<p>We want the component to adapt to different screen sizes. On the smallest viewport, the thumbnail and details are stacked vertically. On a slightly larger viewport, the thumbnail will reside on the left. And finally, on the largest viewport, our content will sit on top of the thumbnail.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/894e17884c252d956a3e79bfc24504c1/32ac3/responsive-layouts.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.87500000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLklEQVQoz3WSC4+CQAyE9///QEGBgCCoPCThIYhA775NSojnkUy6W3anM92a8/ksaZrK5XLZwD6OYynLUpIk2fJZlgnnyTVNI8MwSN/30ratPJ9Peb/fYjjAwU9AUBTFRgRut5ucTifxPE9837cxiiK5Xq9SVZXwbYSo+kaIUtaoIh+GoSUh8n8cR9FvXVcx/ITs0zaFsExlIng8HptNABlWu66ze9pgtDKEWKIqYA0BgFQBcX6/y/0XWmgPU9f1po4Lr9fLqqA6Vf97tM+cwlDJcRxxXddGcDgcJAgCa4WWAJzQ/G8PuIdBlTZZo44EhLwmOR5HlUGsoDWq2hLq5X1ztdnMF8oZlePxaCPkqFXLxP2sGoZxnmdZlsX2T/dgmqY/zcdRnucW+wlgzdkfUzHpeWpdDk0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Responsive Layouts\"\n        title=\"Responsive Layouts\"\n        src=\"/static/894e17884c252d956a3e79bfc24504c1/6af66/responsive-layouts.png\"\n        srcset=\"/static/894e17884c252d956a3e79bfc24504c1/69538/responsive-layouts.png 160w,\n/static/894e17884c252d956a3e79bfc24504c1/72799/responsive-layouts.png 320w,\n/static/894e17884c252d956a3e79bfc24504c1/6af66/responsive-layouts.png 640w,\n/static/894e17884c252d956a3e79bfc24504c1/d9199/responsive-layouts.png 960w,\n/static/894e17884c252d956a3e79bfc24504c1/32ac3/responsive-layouts.png 1249w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Let's start with the HTML codes,</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-thumbnail<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-thumbnail-wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-detail<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-tag<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-tag-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Technology<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-tag-item<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Entertainment<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h3</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Headlines: The Good, The Bad, and The Ugly<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h3</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card-description<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque aliquam eros justo, sit amet sollicitudin ligula aliquet vel. Sed a neque turpis.\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And the CSS,</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.card</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">box-shadow</span><span class=\"token punctuation\">:</span> 0 2px 6px <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> .5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.card-thumbnail</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 0 0 auto<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #DFDFDF<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">border-top-left-radius</span><span class=\"token punctuation\">:</span> 4px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">border-top-right-radius</span><span class=\"token punctuation\">:</span> 4px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.card-thumbnail-wrapper</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">padding-bottom</span><span class=\"token punctuation\">:</span> 56.25%<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'./mountain.jpeg'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">background-size</span><span class=\"token punctuation\">:</span> cover<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">background-position</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.card-detail</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 12px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.card-title</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 19px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 600<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 8px 0 0 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.card-description</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 13px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span> 17.2px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 8px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.card-tag</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> flex-start<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">gap</span><span class=\"token punctuation\">:</span> 12px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.card-tag-item</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #333<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 4px 6px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 6px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 12px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 600<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>So far so good. Our card looks good on a smaller screen, exactly as we planned.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 398px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d9677f8d9d271c3be6faf084e891bb60/692d4/mobile-card.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 113.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAFDklEQVQ4y4WUeWxUVRTGn4KJisY/XBIIAipBo0QagyWyuBAkRYq7iQQlxIKiuIAsQoG01C50WqSlpQsFxlKtpTESEKGldLoNhc7Svs50m+m0nbZ235fpzHT7+e6r8AdBucn3znfePfd859z73pUmJiZwuz14PF7cHmE9jCi+W/Fd7im4vaMMu0cZcI0ypFiXZ5QRBcOeKf8mxicmkbpamqnQXaTBVEiDXExNeQlyqQGDyUhWoYFsvZkCg8zv+TIxFyvYkVHJhtNW1iWX4xcvs/Z4Oe+kVPLmcSu6qk6k3tZGekqzcNvzGKkvYrDJzECjic56A822EpprZZx11chWC9fMMueKyok8b+HD5DLeijWx9IiZpTFl+Bw2caG0BWm4s4kxxyUm2vWMt+Uz1pSDtzkPV2MhY23XcdbokY06mhwm6h1Wqqpk9AYTGVdNHP3DyG7tDfakGthx8jrXKv9GGmqrxWtOYdz2G+OOs4zXZeKtO4fHmc1wfS6bfghh49bPCQ7aQW52Ok5HGTfKyjhfYECbbST5opGws0a+OXGdIquSsL3WSs0vO+nK2ktfYTAjchJj9gzo0RGo+YnF/gGcOHaI9FMRHEmKxVSQTneDCYtV5oKyx3GXTGxJLWX1EQNZstJyQ5WFP6O/4oZ2G3LmdjoKwnBZtOyNiGKm/x581gSgTfwRbVIEn+0L542A3RyO1TDkLKbJXkLONT0ZeQbSrxqpblASNtfZyE6NpjAjkrILUfQYU9gbFMhDK77gmWXreWrJe6xcvZbvdu4iTKNh4/4YfAMOsTkwGJtB6aQtB9oLcDtzGexuRKqpqmJ34EEuZyZhvKzF/6NN3DN7OQ/MWc5ji9ax+O2tPPbc6yxcto6d+w5w9tcUPvn2IC9/vAvflf7sjwjHbsliwHmF/s46JaHdwddKKy+++j5zffyQHlnIfU/4MGPecl7y24Sv/xamzXmNGQtWMdf3XbZt/56Nm7/kaYUvWvUpr2zYx4oPtuC3fjN/KXsqFZeUMWvhGiRptoKZSPc+qdhZ/0Lh0+ch3b8A6eEXFDsf6cH5TH/0WaRpc5m5aA1LFEHpcV9l7nlSMy8hVVTZOBB6jJDIRBVB4XGERicRfvQkwZpEFUGRCQRHJSqHcZLYhFNoYpIJj04gRJOA5vgZwuPTCI1NRa6wIaGMPF0OkYfDiDsWgyYygtyrVyjIyyVK4XGxR4mPiyEsNET5Jc383xgbG0UaHR1Fp8sjOfkEp09rST1zhvz8AnJ1OpKSkklLS0Or/Zm4+HiMRhOTk5N4vcqF4XYzMDCIR+FeJYe4XIaHh5HE7dLc3ExxcTF6vZ7S0lLVt1qtVFdXYzabaWxsVLnRaKSoqIjy8nKVi1jBc3Jy1DVCSBoZGVEzt7e309XVpaK3t5fu7m6VC9vR0UFfXx89PT0qFxAxwm9tbVUFhS+qlsRDvKyrq6O+vh6bzYbT6aSmpgaHw6Eq2+12Ghoa1IUiTvjCdnZ2qoXcFL+VsK2tTQ0SySorK9VEgos2BReLRUIh0tTUpPq1tbXKHg6oEJe0GC6XC0k8RDuiSqEmVIWAgOCiQqEuYsT8zbZbWlrUGNGNyDE+Pj51KGIjBwcHGRoaUu3tEO9FFf39/aov+O3zYk4IigNWE8qyfCv4doj3Qlngv2LEnMVimapQ9C9UxPd4JwjVPuUE+5QqxH6Lj/dOcSKHaFviLkMEt7e24FAOYmBw6G7h/AOY99XEApRPaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Mobile Card\"\n        title=\"Mobile Card\"\n        src=\"/static/d9677f8d9d271c3be6faf084e891bb60/692d4/mobile-card.png\"\n        srcset=\"/static/d9677f8d9d271c3be6faf084e891bb60/69538/mobile-card.png 160w,\n/static/d9677f8d9d271c3be6faf084e891bb60/72799/mobile-card.png 320w,\n/static/d9677f8d9d271c3be6faf084e891bb60/692d4/mobile-card.png 398w\"\n        sizes=\"(max-width: 398px) 100vw, 398px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>On a slightly larger viewport, instead of media query, we will utilize container query to help us deal with the transformation.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@container</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 321px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token selector\">.card</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-thumbnail</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 150px<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">border-top-right-radius</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">border-bottom-left-radius</span><span class=\"token punctuation\">:</span> 4px<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-thumbnail-wrapper</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">padding-bottom</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-detail</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 16px 12px<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We can use <code class=\"language-text\">display: flex;</code> to stack the content horizontally, and we also added some minor adjustments to the thumbnail and details to ensure it still looks good.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/377588887dc02c4aac5304fe26ca0569/6e9ba/medium-card.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABiklEQVQoz32RzUsCURTF5x+I/oDWRbkoaFOLFn1BqyJwH7RrV6uKrBYxugjatGnRIoJQWiRBi2jjaqQhSsPJxK9MVKjR0XEc83tO3mdKSvTgx4H7Lvedex7ncEm4ckdx4orh4PYdl0+f0DUVspxGLpdDPp9HOp1mFItFNBqNDvV6nVGr1TrKxfwCPN4H3N17senwYM/px8X5GSyWXdjtdobVagXP8xAEAXQqlQqq1Sob8vtQnft4uQZ/aMON8xR+n4jH1zeEQiGIoohwOIxgMAhJkhAIBBjRaBSRSIT1kBqGwdyS0iPcwso65s2r2Lfy2Dk6hu/ZDUVRkEylkPohkUgwTSaTbFA8HmeDCaqRZrPZ1spc/yj6BudgmlrG2KwZa1s2KBmZOaNBhUIBmqZ1oEwJVVWZUq6ktD5zOGCaxtDEEoYnFzEyPoONbR5GcwWtOYiaqamd2X9QT7lcBpfJKOw3VUJtaa8jXde73P0FOZZlGVwzza6faofcDppepvy+SiV23673QnXK8BsBPjiFnVgQUwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Medium Card\"\n        title=\"Medium Card\"\n        src=\"/static/377588887dc02c4aac5304fe26ca0569/6af66/medium-card.png\"\n        srcset=\"/static/377588887dc02c4aac5304fe26ca0569/69538/medium-card.png 160w,\n/static/377588887dc02c4aac5304fe26ca0569/72799/medium-card.png 320w,\n/static/377588887dc02c4aac5304fe26ca0569/6af66/medium-card.png 640w,\n/static/377588887dc02c4aac5304fe26ca0569/6e9ba/medium-card.png 731w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>And finally, on the largest viewport we updated our thumbnail to fill up the spaces, add some dark overlay on top of the thumbnail with <code class=\"language-text\">background: linear-gradient(....);</code>, we also set our <code class=\"language-text\">.card-detail</code> to <code class=\"language-text\">position: absolute;</code> and changed the color of our headline and description to <code class=\"language-text\">#ffffff</code></p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token atrule\"><span class=\"token rule\">@container</span> <span class=\"token punctuation\">(</span><span class=\"token property\">min-width</span><span class=\"token punctuation\">:</span> 561px<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token selector\">.card</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">position</span><span class=\"token punctuation\">:</span>  relative<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-thumbnail</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">width</span><span class=\"token punctuation\">:</span>  100%<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-thumbnail-wrapper</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">padding-bottom</span><span class=\"token punctuation\">:</span> 45%<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-thumbnail-wrapper::after</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">linear-gradient</span><span class=\"token punctuation\">(</span>to bottom<span class=\"token punctuation\">,</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.05<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">rgba</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0<span class=\"token punctuation\">,</span> 0.55<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-detail</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 28px 20px<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-title</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token selector\">.card-description</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 15px<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #ffffff<span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Our card now looks like this if the container is at least <code class=\"language-text\">560px</code> wide.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c9d3d0ca06991b2df8c977046704b2ac/eb4a1/desktop-card.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC7klEQVQoz42RXU+TBwCFXy/mhReGL+MiyFyUIEIiQTI3UJSJqNUKWmld1Y0AnajUWgerUaDGAolSefvWthRpMZRQW0QQRYoSHQytwjJpa+OQIIlZdMb/MB+rv8CTPDdPzrk6wpvII97/E+Td3BT/LYR5+yrM67kZFmafMfcixMvZKOHnEf4OhXn8LMJIMIptJIrBH6bu+gwnvWF0vudUdofo/+tfhPkJDwvT/cxP9TH/tI+5J33MPrlJNDjAi6e3CQUDzEw94NGfY4zcCzA4fBe7dxiDc5iK1tvsOj/I3uYhiupv4hieQQjdbSPysJPImJ3wPYnQWDvTgU6i4x5cbivqEydpPn+aq04zoyM3uDXUT5fXj9jlw+T0cdZyndNmH79e6MEbmEYYtWj4w6VjwlPHpM/IuL+J4JDIqF8iu7AUmaIMtVKGVqfBaj5H4JYHT083YoebBsmNQeziF9M1NmvbsfZPIkg1xXQ3ltLbXMaA5SgBt4EBl5FCVSVL1xVRqz9KS301v/2u40CVhgZDNT63SLfbQatFosZkZe8ZBz8cE7HeGEfQq4torN5Ns06O0/gTYkMF6ZvlJOXISUjLY0thISqFDIVKyfpt+1m5qYQ9KhWdlnq67Caky0aktiYutTQydj+AoCk/TJ22ktoTP1OrrSK3YAdxGVtJzcxnedp3rF2/kdyN+RxQKilVKNi2/wip38vILChGf/wg1hYtrrY6rE01TNwfQNCe0mO3XMTUeAZ5WTkFO8v4UaZEflCDskJLcckhdpSo2VS0h0OH1WiqysnbXkL2lt2kZeVSvE9FQ70eo6GSO4O9CFkb8klek038inSWJK4i7us1JKZkEJecTkLKWhYtXYnw1TIWJ35LQsxl5+SQujqDxfHfsCK2S87MI2lVFsKSJE6da0K44nDRKtq5bLHRJjli2D9jjrlW0YZ4xYnk6MRi6+DSp5419qbdGfMdXPN46en1Y2t3cdEsMTH5GIEvyYf/+dJ8BPBYPtYL4s+bAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Desktop Card\"\n        title=\"Desktop Card\"\n        src=\"/static/c9d3d0ca06991b2df8c977046704b2ac/6af66/desktop-card.png\"\n        srcset=\"/static/c9d3d0ca06991b2df8c977046704b2ac/69538/desktop-card.png 160w,\n/static/c9d3d0ca06991b2df8c977046704b2ac/72799/desktop-card.png 320w,\n/static/c9d3d0ca06991b2df8c977046704b2ac/6af66/desktop-card.png 640w,\n/static/c9d3d0ca06991b2df8c977046704b2ac/d9199/desktop-card.png 960w,\n/static/c9d3d0ca06991b2df8c977046704b2ac/eb4a1/desktop-card.png 1083w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Awesome, our card component looks great on different viewports. But more importantly, what makes container query excel is that we can reuse the same component in more complex layouts. </p>\n<p>I created an example to demonstrate the prowess of container query,</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>grid-4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span> \n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>grid-2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>grid-1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>card<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>...<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">.grid-4,\n.grid-2,\n.grid-1</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">display</span><span class=\"token punctuation\">:</span> grid<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">column-gap</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n\t<span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 24px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.grid-4 > div,\n.grid-2 > div,\n.grid-1 > div</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">container-type</span><span class=\"token punctuation\">:</span>  inline-size<span class=\"token punctuation\">;</span>\t\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.grid-4</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">grid-template-columns</span><span class=\"token punctuation\">:</span> 1fr 1fr 1fr 1fr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.grid-2</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">grid-template-columns</span><span class=\"token punctuation\">:</span> 1fr 1fr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.grid-1</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">grid-template-columns</span><span class=\"token punctuation\">:</span> 1fr<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2c321dfd8b8d2293ba902b94021d462b/39a20/complex-layouts.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 90.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEzElEQVQ4y02UC0yVZRjHv7W2VrZam12UXC2Xpk5RVEC8InhDFDh4ARVRuZViiqBAWCoIgoCmoIBHLqKACAIl4AUNRAU5wBEFwwMhGIe7IMr1gPjrPadafdt/z/bb73u+59m+95UG1Ep6m5U8qnpA/G0Vgdl1DLdU0KMup1Kw2HwVIVfrGRJOj7pMx84KFna9gcHGMp33sKoCuZbdqEeqzY/leIgPG7/bxak4Oek371BXmMDRwL047vAgUrCsgmJqC2IJDvBiy849Ou9K4X2qb8YQ9A+LSogju7AYyT8kghmm6zGzdcVhuzfxyZcIDD3FdB1zwWGHD+dTL3Mo+CQGi+0wtXHG0d2XpLRM/ALCmSHYYpkL277341xKGlLFgwoK8vMpVShoaW7m9QgolUoKbxegKLlPa0sLw6/f/I+V0NraytDwCGVlZTpWqiiho72dAc0wUltbK6qaGhrValrb2tBoBmkTL9TW/kFTUxPtQtRoNGi9GlUNasHahDc4OCgatwivliYxyL+e1NbegVo06+7qpK+vD+3zvPM5jY2NQurgxYtuhoaGxMc6aNJ6L/7zOjo6dJ62dnd3/92wtbmBvIo6cpTPqFCW69aoq6tjYGBA12hk5I2uNqnruVnxlOzyBiofPqBEUarztJNqNFpvRFel5MTTbN3lSfatAp2gUqmof/pUTNRKZ2cnr3p64M1rEuMjcfbw0nnP6p+K9VU8a2igXazfJby+3l6GtBO6+wSzYJUj51PSdWv09w+I9NMjhB7RrPvlKzGhhm/3BjFv1RYSUjIZfgNdr/pF+uh62csLka6XPfT2DyJ11ijpfnKX578X0Pj4No3VxfxZXURd1T1UD0UqFVQ90v7kj6iorCSvWElsjgKPxBJc5MVsiCpmXXQJVhHF+KVXIdUVZfIkP46a+6nUFF1Adfc81XeTqSq8SHVROvdupfPb9XSKbmeTl5dNdu4VUjJ+ITQ+C+/ITByCLmMXKOKfxsGEfKTHeXGUZgSizD1OeU6YSDiKnJMocmO4c0WOtfNO1m6yY88uJ+Ll4WT/mkpS6kUi4pM4HJ3EgcgkPMOT2HboHAGx15Cuyf3JCNrA1Qgnbsh3civxB26l+FOWG8lGZzf0F1ji5mTHXo9t7PbaQWLMYbJSY5HHnSUoIgbv8DM4+J/F2D0Kt2NZSNHiLB5xNePUPkvkP8m4GOZMxmkvHN1ceX+GFfrzV3LQxwVfT2dWb3ZhofUaPD1cSUv4mTOnj3EgJAyXA8ex8w7HP/oSUkTQj+xzsmL/dhnBXus4F+yMpUzGB/oWfDZ5AWMmzMbY2BAr69WstFnDVPN1fDHfCpn9ek6F7iXupC+xJ/yICvUmI/kMkp/PPjbYWnJw92Z8t9tjZDKPt0ZP5J1PJvLup5MYN9mY0XoTmDZzDja2Muw3bsBkmQw9wxXMMpmL89a1HAsUt9KRXWRcOIHk4b2fVTa2OGzaiPF8cz7Um8KY8dMZ8/VMxn5jyOeTjJDe0+Ptj74UfCqrLZdhYGiE3sSZjPr4K0aNm8oU40WYmi1g9z5PpICgo5hbiFUMzZg9bylzF63AxNQCk0UWzJ6/lFlzlzDN2ByDectFlmG0cDnLLFZhILiRcJdb26M/Zwljx09j/VZ3/gIovgbEDzDkxAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Complex Layouts\"\n        title=\"Complex Layouts\"\n        src=\"/static/2c321dfd8b8d2293ba902b94021d462b/6af66/complex-layouts.png\"\n        srcset=\"/static/2c321dfd8b8d2293ba902b94021d462b/69538/complex-layouts.png 160w,\n/static/2c321dfd8b8d2293ba902b94021d462b/72799/complex-layouts.png 320w,\n/static/2c321dfd8b8d2293ba902b94021d462b/6af66/complex-layouts.png 640w,\n/static/2c321dfd8b8d2293ba902b94021d462b/39a20/complex-layouts.png 859w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The same components, under the same viewport, adapt to different layouts gracefully. Without container query, you would need a workaround to make this work, perhaps by adding a class name to differentiate the selector or involving Javascript.</p>\n<p>Moreover, depending on global viewport via media query makes our component less modular — in other words, they are much harder to reuse across different layouts.</p>\n<h2>Size and Other Aspects</h2>\n<p>We might not always know the dimension ahead of time. But worry not, the container query comes with a number of declarative query types you can use to evaluate against the container.</p>\n<h3>Container Size Query</h3>\n<p>The first type, container size query establishes the container to enable query against its size. Possible values of this type are <code class=\"language-text\">size</code>, <code class=\"language-text\">inline-size</code> and <code class=\"language-text\">block-size</code>.</p>\n<p><code class=\"language-text\">size</code> type establishes the container to be queried against its size in both inline and block axis.</p>\n<p>In CSS, inline and block axes refer to the direction in which text flows within a line. For example in the English language, text flows from left to right and top to bottom.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 521px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6751cf3bb92892f01710e229752cf594/bb9c5/inline-block-axes.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVQoz3WSWWvCQBSF/f+/Q7Di+iKo4JZqVWIRXFHcwMQFl1DEJTXRfmbMGG17HoZJ5pw759w7vqsLy7L2+/3pdDoej7Zt8zmbzZbL5dzBZrMRHE7hwGTvk+LD4bBYLLbb7Wq1gmGaZr/fH41Gw+Gw2+2Ox2NRnVMKwYRzE18uFzTiTgFI1Dqfz98OIECjHHvLBfy7GHscNJvNXC6nKMq7A8VBoVDgfl3XySJtIqH6XYwT7snn836/PxgMvnkQCATC4TC11uu1IIv1YZsk3ExIVVU/f6FerxuGIZUPse2AkETa7XZfLgwP6Ai5sOa1fRNPJpNSqcQZDajVaolEIplMplIpfn64KJfLZMbaq5hh4qrVajFMgpGZnKFQqFKpqC6q1epgMLh68MgMxGDR01hGytrr9Rhvu93udDqNRkPTtD8ysyMznUTMipG5C/5c/8FTtxkVkciJ4Xg8HovFotFoOp0Wc85kMiSaTqcy9uuoaCa9kWIQiUSYMH+oUiwWs9ksr1Lwn8QYptv0nPKaC90BGwYp0nGz6UC8ZZ83huzHC3jJ4mHjTr5tyD+muTHenmyFJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Inline and Block Axes\"\n        title=\"Inline and Block Axes\"\n        src=\"/static/6751cf3bb92892f01710e229752cf594/bb9c5/inline-block-axes.png\"\n        srcset=\"/static/6751cf3bb92892f01710e229752cf594/69538/inline-block-axes.png 160w,\n/static/6751cf3bb92892f01710e229752cf594/72799/inline-block-axes.png 320w,\n/static/6751cf3bb92892f01710e229752cf594/bb9c5/inline-block-axes.png 521w\"\n        sizes=\"(max-width: 521px) 100vw, 521px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Container set to a <code class=\"language-text\">size</code> type allows it to be queried upon its <code class=\"language-text\">width</code> and <code class=\"language-text\">height</code>. And similarly, <code class=\"language-text\">inline-size</code> and <code class=\"language-text\">block-size</code> allows query upon container's <code class=\"language-text\">width</code> and <code class=\"language-text\">height</code> respectively.</p>\n<h3>Container Style Query</h3>\n<p>The second type is called container style query. This type opens up the possibility to query a container based on its single, specific property.</p>\n<h3>Container State Query</h3>\n<p>The third type, container state query establishes the container to enable query against the \"current state\" of the container such as whether a <code class=\"language-text\">position: sticky</code> container is \"stuck\" or that it is currently visible on screen.</p>\n<p>Most likely, you would only need size query under normal circumstances but I'm not here to judge 😅. Besides, these are still drafts and might expect **changes in the future. But it does give us a glimpse of what's possible with container query.</p>\n<h2>Conclusion</h2>\n<p>The idea of responsive design is fantastic — a user interface so versatile that no matter what device you're on, it always looks elegant and flawless. And thus far, this idea has been <strong>mostly</strong> achievable with the current state of technology.</p>\n<p>I said mostly because there are some cases that just couldn't be solved with media query alone. Often time many smaller tweaks need to be made in order to fit components gracefully into complex layouts. And these are some of the problems container query intend to address.</p>","frontmatter":{"title":"CSS Container Query: A Media Query on Steroids","date":"2021-12-11","shortDesc":"A closer look at the upcoming CSS feature: Container Query","featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDAf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAGaUWdAX//EABkQAQADAQEAAAAAAAAAAAAAAAEAAhExMv/aAAgBAQABBQJdnZqy1Z6Wzv8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/Aauv/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BR//EABsQAAICAwEAAAAAAAAAAAAAAAARASEQMUFh/9oACAEBAAY/AlGjyCnhcKpH/8QAGRABAQEBAQEAAAAAAAAAAAAAAREAIUFh/9oACAEBAAE/IW6CPcI+69UHw0oDxxAiZcJHE3//2gAMAwEAAgADAAAAEMcv/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAR8PH/2gAIAQMBAT8QBVkM9n//xAAYEQACAwAAAAAAAAAAAAAAAAAAEXGR8P/aAAgBAgEBPxBIhqP/xAAdEAEBAAEEAwAAAAAAAAAAAAABEQAhQWHBMXGR/9oACAEBAAE/EBAAAYhMdGiCju95SoVksfd8DTyNJjBxDoPHn3zldRhF2vef/9k=","aspectRatio":1.509433962264151,"src":"/static/e092dea402bf681cd99d2a9e96d8bd3f/f422e/bunch-of-containers.jpg","srcSet":"/static/e092dea402bf681cd99d2a9e96d8bd3f/e75b5/bunch-of-containers.jpg 160w,\n/static/e092dea402bf681cd99d2a9e96d8bd3f/c01e2/bunch-of-containers.jpg 320w,\n/static/e092dea402bf681cd99d2a9e96d8bd3f/f422e/bunch-of-containers.jpg 640w,\n/static/e092dea402bf681cd99d2a9e96d8bd3f/a6352/bunch-of-containers.jpg 960w,\n/static/e092dea402bf681cd99d2a9e96d8bd3f/ec6c5/bunch-of-containers.jpg 1280w","sizes":"(max-width: 640px) 100vw, 640px"}}}},"timeToRead":8,"excerpt":"She's finally here. Well, almost. One of the most requested web features finally sees the light of day. As of today, container query is on…","fields":{"slug":"/css-container-query/"}}},"pageContext":{"slug":"/css-container-query/"}},"staticQueryHashes":["3649515864","572726844"]}