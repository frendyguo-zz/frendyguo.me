<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5rem 'Nunito Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Nunito Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:hsla(0,0%,0%,0.9);font-family:'Nunito Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:hsla(0,0%,0%,0.9);font-family:'Nunito Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.65572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:hsla(0,0%,0%,0.9);font-family:'Nunito Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.32951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:hsla(0,0%,0%,0.9);font-family:'Nunito Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:hsla(0,0%,0%,0.9);font-family:'Nunito Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;color:hsla(0,0%,0%,0.9);font-family:'Nunito Sans',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}ul{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;font-size:0.85rem;line-height:1.5rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;font-size:1rem;line-height:1.5rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}blockquote{margin-left:1.5rem;margin-right:1.5rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.2rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.2rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.2rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5rem;margin-bottom:calc(1.2rem / 2);margin-top:calc(1.2rem / 2);}li > ul{margin-left:1.5rem;margin-bottom:calc(1.2rem / 2);margin-top:calc(1.2rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.2rem / 2);}code{font-size:0.85rem;line-height:1.5rem;}kbd{font-size:0.85rem;line-height:1.5rem;}samp{font-size:0.85rem;line-height:1.5rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:calc(0.75rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:var(--textLink);text-decoration:none;}a:hover{color:var(--textLinkHover);}h1, h2{margin-top:3.5rem;}h3, h4, h5, h6{margin-top:2.8rem;}</style><style data-href="/styles.f94b924df07e9946a9e3.css" id="gatsby-global-css">*{box-sizing:border-box}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;--darkBg:#2c2c35;--coral:#fa7268;--deepScarlet:#7f0800;--textLink:#fa7268;--textLinkHover:#7f0800}.gatsby-highlight{margin-bottom:16px}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#282a36}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#6272a4}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ff79c6}.token.boolean,.token.number{color:#bd93f9}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#50fa7b}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#f1fa8c}.token.keyword{color:#8be9fd}.token.important,.token.regex{color:#ffb86c}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:#f7ebc6;box-shadow:inset 5px 0 0 #f7d87c;z-index:0;pointer-events:none;line-height:inherit;white-space:pre}.mBrand{display:inline-block;padding:8px 0;height:48px;line-height:32px;font-family:Alegreya Sans SC,sans-serif}.mBrand-link{margin-top:1px;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;font-size:32px;font-weight:700;color:#fff;text-decoration:none}.mBrand-link:hover{color:#fff}.mHeader{background-color:#333;position:fixed;top:0;left:0;width:100%;height:48px;z-index:100}.mHeader-wrapper{max-width:640px;margin:0 auto;padding:0 16px;align-items:center}.mHeader-menu,.mHeader-wrapper{display:flex;justify-content:space-between}.mHeader-menuLink{color:#fff;font-size:13px;font-weight:700;margin-left:10px}.mHeader-menuLink:first-child{margin-left:0}.mHeader-menuLink:hover{color:#fff}@media screen and (min-width:768px){.mHeader-wrapper{padding:0}}@media screen and (min-width:992px){.mHeader-wrapper{margin-left:180px}}@media screen and (min-width:1200px){.mHeader-wrapper{margin-left:248px}}.mLayout{padding-top:48px;min-height:100vh;display:flex;flex-direction:column;justify-content:space-between}.mLayout-main{background-color:#fff;position:relative;height:100%}.mLayout-footer{background-color:#fa7268;height:100px;padding:20px 0}.mLayout-footerCredit{margin:0;text-align:center;font-size:14px;line-height:60px;color:#fff}.m404Page-wrapper{max-width:640px;margin:0 auto;padding:80px 20px 0;text-align:center}.m404Page-heading{font-size:48px;color:var(--coral);margin:0}.m404Page-description{font-size:16px;font-weight:600;margin:6px 0 0}@media screen and (min-width:768px){.m404Page-wrapper{text-align:left;padding-top:140px;padding-left:0;padding-right:0}.m404Page-heading{font-size:64px}.m404Page-description{font-size:24px}}@media screen and (min-width:992px){.m404Page-wrapper{margin-left:180px}}@media screen and (min-width:1200px){.m404Page-wrapper{margin-left:248px}}.mAboutPage-wrapper{padding:64px 20px 80px;margin:0 auto;text-align:left;display:flex;flex-direction:column-reverse}.mAboutPage-description{margin-top:40px}.mAboutPage-descriptionSection{margin-top:48px}.mAboutPage-descriptionSection:first-child{margin-top:0}.mAboutPage-descriptionSectionHeading,.mAboutPage-descriptionSectionSubheading{position:relative;display:block;display:inline-block;font-size:36px;margin:0}.mAboutPage-descriptionSectionSubheading{font-size:28px}.mAboutPage-descriptionSectionHeading:before,.mAboutPage-descriptionSectionSubheading:before{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:14px;background-color:var(--coral);display:inline-block;opacity:.55;padding-right:12px;box-sizing:initial}.mAboutPage-descriptionSectionSubheading:before{height:10px;bottom:-1px}.mAboutPage-descriptionSectionHeading>span,.mAboutPage-descriptionSectionSubheading>span{position:relative}.mAboutPage-descriptionSectionParagraph{font-size:16px;margin:20px 0 0}.mAboutPage-descriptionSectionParagraph:first-child{margin-top:0}.mAboutPage-descriptionSectionSkill{margin-top:8px}.mAboutPage-descriptionSectionSkillList{padding:0;margin:0;list-style:none;display:grid;grid-template-columns:repeat(2,minmax(140px,200px))}.mAboutPage-descriptionSectionSkillListItem{padding-left:16px;margin:0;line-height:24px;font-size:14px;position:relative}.mAboutPage-descriptionSectionSkillListItem:before{content:"\BB";line-height:24px;font-size:14px;position:absolute;left:4px;top:0}.mAboutPage-profilePic{max-width:280px;width:100%;flex:0 0 auto}.mAboutPage-profilePicSrc{padding-bottom:100%;background-color:#dfdfdf;background-size:cover;background-position:top;position:relative}.mAboutPage-descriptionSectionExperience{margin-top:24px}.mAboutPage-descriptionSectionExperienceItem{display:flex;justify-content:space-between;margin-top:20px}.mAboutPage-descriptionSectionExperienceItem:first-child{margin-top:0}.mAboutPage-descriptionSectionExperienceItemOrg{font-size:13px;font-weight:600;width:80px;flex:0 0 auto;margin-right:32px}.mAboutPage-descriptionSectionExperienceItemInfo{width:100%}.mAboutPage-descriptionSectionExperienceItemInfoRole{font-weight:700;font-size:13px}.mAboutPage-descriptionSectionExperienceItemInfoRole>span{color:var(--coral)}.mAboutPage-descriptionSectionExperienceItemInfoTime{margin-top:4px;font-size:12px}@media screen and (min-width:768px){.mAboutPage-wrapper{padding-left:0;padding-right:0;max-width:640px}}@media screen and (min-width:992px){.mAboutPage-wrapper{max-width:800px;margin-left:180px;display:flex;justify-content:space-between;flex-direction:row;padding-top:80px;padding-bottom:100px}.mAboutPage-description{margin-right:40px;margin-top:0}.mAboutPage-profilePic{margin:66px auto 0}}@media screen and (min-width:1200px){.mAboutPage-wrapper{margin-left:248px}}.mContactPage-wrapper{max-width:440px;margin:0 auto;padding:80px 20px 0;text-align:left}.mContactPage-heading{font-size:40px;margin:0;font-weight:400}.mContactPage-guide{font-size:15px;line-height:1.556;font-weight:400;margin:8px 0 0}.mContactPage-mailer{margin-top:10px}.mContactPage-mailerLink{color:#fff;display:inline-block;padding:6px 8px 8px;font-size:14px;line-height:16px;height:28px;font-weight:600;background-color:var(--coral);transition:background-color .1s ease-in-out}.mContactPage-mailerLink:hover{color:#fff;background-color:var(--deepScarlet)}@media screen and (min-width:768px){.mContactPage-wrapper{padding-top:140px;padding-left:0;padding-right:0}}@media screen and (min-width:992px){.mContactPage-wrapper{margin-left:180px}}@media screen and (min-width:1200px){.mContactPage-wrapper{margin-left:248px}}.mProfile-wrapper{display:flex;justify-content:flex-start}.mProfile-avatar{width:80px;flex:0 0 auto!important}.mProfile-avatarSrc{padding-bottom:100%;background-color:#dfdfdf;border-radius:50%;background-size:cover;background-position:top}.mProfile-info{margin-right:16px;display:flex;align-items:center}.mProfile-infoGreet{font-size:21px;line-height:32px;margin-top:16px}.mProfile-infoGreet>p{margin:0}.mProfile-infoName{font-size:18px;line-height:24px;font-weight:600;margin:0}.mProfile-infoRole{font-size:14px;line-height:16px;margin:0}.mProfile-infoRoleCompany{color:#fa7268}.mProfile-infoDesc{font-size:14px;margin:8px 0 0;color:#777;line-height:16px}@media screen and (min-width:768px){.mProfile-wrapper{justify-content:flex-start}.mProfile-info{margin-right:20px}.mProfile-infoName{font-size:28px;line-height:34px}.mProfile-infoRole{font-size:15px;line-height:22px}.mProfile-infoDesc{font-size:15px;line-height:18px}.mProfile-avatar{width:110px}}.mHomePage{padding:32px 20px 48px;margin:0 auto;max-width:640px}.mHomePage-separator{width:120px;height:1px;background-color:#dfdfdf;margin:32px 0 0}.mHomePage-blog{margin-top:24px}.mHomePage-blogPost{margin-top:80px}.mHomePage-blogPost:first-child{margin-top:0}.mHomePage-blogPostByline{font-size:14px;line-height:20px;margin-top:6px;color:#969696;font-weight:500}.mHomePage-blogPostBylineDivider{padding:0 6px;display:inline;font-weight:700}.mHomePage-blogPostBylineDivider:after{content:"\B7"}.mHomePage-blogPostTitle{font-size:24px;line-height:31px;color:#222;font-weight:700;margin:0}.mHomePage-blogPostTitle>a{color:#222}.mHomePage-blogPostExcerpt{color:rgba(0,0,0,.75);margin:4px 0 0;font-size:16px;line-height:1.556;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}@media screen and (min-width:768px){.mHomePage{padding-top:64px;padding-left:0;padding-right:0}.mHomePage-separator{margin:48px 0 0;width:160px}.mHomePage-blog{margin-top:48px}}@media screen and (min-width:992px){.mHomePage{margin-left:180px;padding-left:0;padding-right:0;padding-bottom:120px}}@media screen and (min-width:1200px){.mHomePage{margin-left:248px}}.mPostPage{padding:0 0 48px;margin:0 auto;max-width:640px}.mPostPage-fm{padding:20px 0 0}.mPostPage-fmCover{margin:16px 0 0}.mPostPage-fmCoverSrc{margin:0;display:block}.mPostPage-fmInfo{padding:0 20px}.mPostPage-fmInfoTitle{color:rgba(0,0,0,.84);font-size:27px;line-height:36px;margin:0;font-weight:700}.mPostPage-fmInfoByline{font-size:13px;line-height:16px;margin-top:6px;color:#646464;font-weight:500}.mPostPage-fmInfoBylineDivider{padding:0 6px;display:inline;font-weight:700}.mPostPage-fmInfoBylineDivider:after{content:"\B7"}.mPostPage-content{padding:0 20px;margin-top:20px}@media screen and (min-width:768px){.mPostPage-fm{padding-top:64px}.mPostPage-fmInfo{padding-left:0;padding-right:0}.mPostPage-fmInfoTitle{font-size:36px;line-height:44px}.mPostPage-fmCover{padding:0;margin-top:20px;margin-left:-32px;margin-right:-32px}.mPostPage-content{padding:0;margin-top:24px}}@media screen and (min-width:992px){.mPostPage{margin-left:180px;padding-left:0;padding-right:0;padding-bottom:120px}}@media screen and (min-width:1200px){.mPostPage{margin-left:248px}}</style><meta name="generator" content="Gatsby 2.32.3"/><title data-react-helmet="true">Server Component: The React Way to Server-side Rendering — Frendy Guo | Personal Blog</title><meta data-react-helmet="true" name="description" content="Introducing the React Component that runs on server and achieve zero bundle size."/><meta data-react-helmet="true" property="og:title" content="Server Component: The React Way to Server-side Rendering"/><meta data-react-helmet="true" property="og:description" content="Introducing the React Component that runs on server and achieve zero bundle size."/><meta data-react-helmet="true" property="og:url" content="https://frendyguo.me/server-component-the-react-way-to-ssr/"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@frendyguo"/><meta data-react-helmet="true" name="twitter:title" content="Server Component: The React Way to Server-side Rendering"/><meta data-react-helmet="true" name="twitter:description" content="Introducing the React Component that runs on server and achieve zero bundle size."/><meta data-react-helmet="true" name="google-site-verification" content="rMoO_lFxVeo560aiNPbEMWe7Z0XsY0ktdy1S3sm98vg"/><meta data-react-helmet="true" property="og:image" content="https://frendyguo.me/static/3824f006dc51f7f1ad5df8efa64f125d/f3dec/rsc.png"/><meta data-react-helmet="true" name="twitter:image" content="https://frendyguo.me/static/3824f006dc51f7f1ad5df8efa64f125d/f3dec/rsc.png"/><link rel="icon" href="/favicon-32x32.png?v=db5609c76cb3c8e554e204d0faa0e78b" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=db5609c76cb3c8e554e204d0faa0e78b"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/alegreyasanssc/v13/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1DspC4iNhMA.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/nunitosans/v8/pe0qMImSLYBIv1o4X1M8cce9I9s.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/nunitosans/v8/pe03MImSLYBIv1o4X1M8cc9iB85tU1E.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/static/webfonts/s/nunitosans/v8/pe03MImSLYBIv1o4X1M8cc8GBs5tU1E.woff2"/><style>@font-face{font-family:Alegreya Sans SC;font-style:normal;font-weight:900;src:url(/static/webfonts/s/alegreyasanssc/v13/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1DspC4iNhMA.woff2) format("woff2");font-display:swap}@font-face{font-family:Alegreya Sans SC;font-style:normal;font-weight:900;src:url(/static/webfonts/s/alegreyasanssc/v13/mtGm4-RGJqfMvt7P8FUr0Q1j-Hf1DspC4iNhNg.woff) format("woff");font-display:swap}@font-face{font-family:Nunito Sans;font-style:normal;font-weight:400;src:url(/static/webfonts/s/nunitosans/v8/pe0qMImSLYBIv1o4X1M8cce9I9s.woff2) format("woff2");font-display:swap}@font-face{font-family:Nunito Sans;font-style:normal;font-weight:600;src:url(/static/webfonts/s/nunitosans/v8/pe03MImSLYBIv1o4X1M8cc9iB85tU1E.woff2) format("woff2");font-display:swap}@font-face{font-family:Nunito Sans;font-style:normal;font-weight:700;src:url(/static/webfonts/s/nunitosans/v8/pe03MImSLYBIv1o4X1M8cc8GBs5tU1E.woff2) format("woff2");font-display:swap}@font-face{font-family:Nunito Sans;font-style:normal;font-weight:400;src:url(/static/webfonts/s/nunitosans/v8/pe0qMImSLYBIv1o4X1M8cce9I90.woff) format("woff");font-display:swap}@font-face{font-family:Nunito Sans;font-style:normal;font-weight:600;src:url(/static/webfonts/s/nunitosans/v8/pe03MImSLYBIv1o4X1M8cc9iB85tU1c.woff) format("woff");font-display:swap}@font-face{font-family:Nunito Sans;font-style:normal;font-weight:700;src:url(/static/webfonts/s/nunitosans/v8/pe03MImSLYBIv1o4X1M8cc8GBs5tU1c.woff) format("woff");font-display:swap}</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-b2021809fbe43130367a.js"/><link as="script" rel="preload" href="/framework-741ade27086b2708e961.js"/><link as="script" rel="preload" href="/app-c1fd813b1bddfad27b4b.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/commons-80983d8e1774978fa56f.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-0986093f5936688b470e.js"/><link as="fetch" rel="preload" href="/page-data/server-component-the-react-way-to-ssr/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/572726844.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="mLayout"><header class="mHeader"><div class="mHeader-wrapper"><div class="mBrand"><a class="mBrand-link" href="/">FG.</a></div><div class="mHeader-menu"><a class="mHeader-menuLink" href="/about">→ About</a><a class="mHeader-menuLink" href="/contact">→ Contact</a></div></div></header><main class="mLayout-main"><div class="mPostPage"><div class="mPostPage-fm"><div class="mPostPage-fmWrapper"><div class="mPostPage-fmInfo"><h1 class="mPostPage-fmInfoTitle">Server Component: The React Way to Server-side Rendering</h1><div class="mPostPage-fmInfoByline"><span>February 7, 2021</span><div class="mPostPage-fmInfoBylineDivider"></div><span>6<!-- --> min read</span></div></div><div class="mPostPage-fmCover"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;max-height:480px"><div aria-hidden="true" style="width:100%;padding-bottom:70.625%"></div><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACc0lEQVQ4y42U3VMSURjGqZyFhV2dviBI1NLRUQabghD5UFG+AxVwBT9AoyxCKlG+HMe0bppuuuhGp+mi8R99evewGJA1Xbxz3j37nt++zznPWZX40IvuEB54cNX8/9So/lYoj/zANLSDLgo35S4ld3XU/AEU5IReyKPQBu0bmcHgk2cwWALQU5gfR1kuR3Ox58pGOoAifV0cnmkC6Xlpax8rL2qYXdpBKl9FKL2LyNpbWjgD3ZAHvcNe1n0H8BI25IZgCUIkmQJBxXE/HMFNhDMlxDf32BihcMXy0I/Po49qNLQN9ywLDN6Cqn7DQuBXK+CTZfCpffCJ97g5EcDtMR/0E36S7ced8QXcJVhgcQ2RxAaL2EoW961+aIfcimS5G6MdWl8Omq0P4I5+QP3uK8t1jiQ0BhuuGR1Q6W0UdozYI0hv5vGqUMTxUQ3SxnM4/UlcN06xLVCJZid07gz4dA3c6QW42hm4k59Q18/BJfYw6JXgj+ewXWzAE1nHQiyNSqWM0+M6Dvb38OmkgaXVHKzuONRmFwH7p6Cdy5LcKrjGOeuQ+3gBDXXJSRWYvSlMz8YQJJm2uQTCJLNQ3GWgw3oFjfoBFqUc7L5lcP3TimQTSQ7koX7zBdzhd6jL36AufIbOKUFrfIqefhd6TA6S5cDYVBT5nQKKpRKODqvYfvka3rCEGyZnU3LLLoI1TLKr4DP15pgqQxibJ0u5WWGvYqdbo7MILa8jlsoikdlCXMpi4FEAvGKfTttMRpueHPWxU2dzik9FxWfyaRom5un051hungxcYZs2Y18C2nKh6zbIoBaE7zZ299Vrj+4r+a+fQmv+FzgHvtn3tY1/AAAAAElFTkSuQmCC" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/3824f006dc51f7f1ad5df8efa64f125d/e43a9/rsc.png 160w,
/static/3824f006dc51f7f1ad5df8efa64f125d/dd5bb/rsc.png 320w,
/static/3824f006dc51f7f1ad5df8efa64f125d/f3dec/rsc.png 640w,
/static/3824f006dc51f7f1ad5df8efa64f125d/40ffe/rsc.png 960w,
/static/3824f006dc51f7f1ad5df8efa64f125d/e4d72/rsc.png 1280w,
/static/3824f006dc51f7f1ad5df8efa64f125d/1890b/rsc.png 2245w" sizes="(max-width: 640px) 100vw, 640px" /><img loading="lazy" sizes="(max-width: 640px) 100vw, 640px" srcset="/static/3824f006dc51f7f1ad5df8efa64f125d/e43a9/rsc.png 160w,
/static/3824f006dc51f7f1ad5df8efa64f125d/dd5bb/rsc.png 320w,
/static/3824f006dc51f7f1ad5df8efa64f125d/f3dec/rsc.png 640w,
/static/3824f006dc51f7f1ad5df8efa64f125d/40ffe/rsc.png 960w,
/static/3824f006dc51f7f1ad5df8efa64f125d/e4d72/rsc.png 1280w,
/static/3824f006dc51f7f1ad5df8efa64f125d/1890b/rsc.png 2245w" src="/static/3824f006dc51f7f1ad5df8efa64f125d/f3dec/rsc.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></div></div><div class="mPostPage-content"><p>From the very existence of <a href="https://reactjs.org/" target="_blank" rel="nofollow noopener noreferrer">React</a> in the web development world, React has always remained a frontend framework that heavily focuses on client capabilities. The latest React Hooks addition to the React ecosystem further indicates where the framework is heading.</p>
<p>Until recently, React team released <a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html" target="_blank" rel="nofollow noopener noreferrer">a sneak peek</a> and opens an RFC around Server Component, dubbing it the Zero-Bundle-Size component. I highly recommend you read the <a href="https://github.com/josephsavona/rfcs/blob/server-components/text/0000-server-components.md" target="_blank" rel="nofollow noopener noreferrer">RFC</a> or <a href="https://youtu.be/TQQPAU21ZUw" target="_blank" rel="nofollow noopener noreferrer">watch Dan Abramov and Lauren Tan's talk</a>.</p>
<p>This is a very interesting turn because the server-side of React has been quite underdeveloped for a while now and finally, it gets some attention as React team starts experimenting on components that work and optimized for the server.</p>
<h2>The Challenges</h2>
<p>When it comes to server-side rendering, chances are you either set up your own server, write a bundler with custom behaviors that suit your own needs, or you depend on server-side React frameworks like <a href="https://nextjs.org/" target="_blank" rel="nofollow noopener noreferrer">NextJs</a>, <a href="https://github.com/jaredpalmer/after.js/" target="_blank" rel="nofollow noopener noreferrer">AfterJs</a>, <a href="https://www.gatsbyjs.com/" target="_blank" rel="nofollow noopener noreferrer">Gatsby</a> that abstracts away the data-fetching layer, and other optimization works.</p>
<p>And it probably works fine when you just started. The first few pages of your application load blazingly fast, however as the codebase grows, so does the bundle size and the cost of maintenance. Several noticeable challenges including the network waterfall, unused extra codes, and abstraction cost.</p>
<h3>Network Waterfall</h3>
<p>One of the common patterns for data fetching is to initially render a placeholder and then fetch data after the component has been mounted.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">TodoList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>todos<span class="token punctuation">,</span> setTodos<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchTodos</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">todosData</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setTodos</span><span class="token punctuation">(</span>todosData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>props<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>todos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token punctuation">{</span><span class="token comment">/* Loading Placeholder */</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token punctuation">{</span><span class="token comment">/* Render Todo Items */</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Network waterfall happens when both the parent and child component follow this approach because the child component's effect can't start until the parent finish the rendering, causing sequential round trips. With the server component, the round trips are moved to the server, providing ease of access to the data source and latency reduction.</p>
<p>Note that this approach doesn't eliminate the waterfall, but it does significantly diminish the consequences of multiple round trips.</p>
<h3>Unused Extra Codes</h3>
<p>Practical advice for server-side rendered web application is to optimize for initial above-the-fold contents and only then add non-critical contents and extra Javascript codes for interactivity. But the truth is, it is the non-critical assets that add up to the large bundle size. So, naturally, it makes sense to defer or eliminate the non-critical assets altogether.</p>
<p><strong>Problem #1, The solution doesn't come by default</strong>. React server-side frameworks such as NextJs or Gatsby does part of the job by automatically performing a route-based code splitting for you. It is a good default, but for deeper level improvement such as component level code-splitting, it requires developers to consciously specify which part to load lazily.
Server component solves this problem by treating all imports as a potential code-split point and also providing ways for developers to decide which part should be load on the server so that client can download it earlier.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// PhotoRenderer.server.js - Server Component</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// one of these will start loading *once rendered and streamed to the client*:</span>
<span class="token keyword">import</span> OldPhotoRenderer <span class="token keyword">from</span> <span class="token string">'./OldPhotoRenderer.client.js'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> NewPhotoRenderer <span class="token keyword">from</span> <span class="token string">'./NewPhotoRenderer.client.js'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Photo</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Switch on feature flags, logged in/out, type of content, etc:</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>FeatureFlags<span class="token punctuation">.</span>useNewPhotoRenderer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NewPhotoRenderer</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">OldPhotoRenderer</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">props</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>Problem #2, excessive bundle size on the non-interactive page content</strong>. Upon developing an application, we tend to depend on third-party libraries in order to format a date or to render a markup, and it's probably easier that way since we don't want to reinvent any kind of wheel. But it adds up to the total bundle size.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// NoteWithMarkdown.js</span>
<span class="token comment">// NOTE: *before* Server Components</span>

<span class="token keyword">import</span> marked <span class="token keyword">from</span> <span class="token string">'marked'</span><span class="token punctuation">;</span> <span class="token comment">// 35.9K (11.2K gzipped)</span>
<span class="token keyword">import</span> sanitizeHtml <span class="token keyword">from</span> <span class="token string">'sanitize-html'</span><span class="token punctuation">;</span> <span class="token comment">// 206K (63.3K gzipped)</span>

<span class="token keyword">function</span> <span class="token function">NoteWithMarkdown</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">sanitizeHtml</span><span class="token punctuation">(</span><span class="token function">marked</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token comment">/* render */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>More importantly, many parts of the application don't require interactivity. For example, a post detail page that consists mostly of texts and images is probably going to stay static throughout the whole lifecycle of the application and doesn't need updates in response to user interaction.</p>
<p>In this case, server component provides a way to render static content on the server as part of the initial load and omit away the extra bundle size that probably isn't needed by the client.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// NoteWithMarkdown.server.js - Server Component === zero bundle size</span>

<span class="token keyword">import</span> marked <span class="token keyword">from</span> <span class="token string">'marked'</span><span class="token punctuation">;</span> <span class="token comment">// zero bundle size</span>
<span class="token keyword">import</span> sanitizeHtml <span class="token keyword">from</span> <span class="token string">'sanitize-html'</span><span class="token punctuation">;</span> <span class="token comment">// zero bundle size</span>

<span class="token keyword">function</span> <span class="token function">NoteWithMarkdown</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token function">sanitizeHtml</span><span class="token punctuation">(</span><span class="token function">marked</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token comment">/* render */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Cost of Abstraction</h3>
<p>As developers, we like abstraction because it helps us encapsulate complex behaviors, self-contain modules, and decouple software elements. Making applications extendable in much easier ways and benefits the whole ecosystem. In the context of React, it means having multiple layers of wrappers for configurability that ultimately tie together lower-level components to be part of the user interface. For example, a button could be part of the contact form which can be part of the contact page.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// Example of Composition</span>

<span class="token keyword">import</span> ContactForm <span class="token keyword">from</span> <span class="token string">'./ContactForm'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">'./Button'</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">ContactPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ContactForm</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* Stuffs.. */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">Submit</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ContactForm</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Sent to client</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token comment">/* contents */</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span></code></pre></div>
<p>However, when overused these abstractions could result in more codes and runtime overhead. To address this issue, the server component only sends down the final results to the client, removing the abstraction cost on the server.</p>
<h2>How Is It Different From Server-Side Rendering?</h2>
<p>SSR for client Javascript application is an illusion. It basically takes an application, renders it into HTML and CSS on the server, and sends it down to the client. It results in a faster initial load time for users, especially ones with a slower internet connection. However, users still pay the cost to download, parse and execute the components for interactivity after the initial content loads (AKA <a href="https://reactjs.org/docs/react-dom.html#hydrate" target="_blank" rel="nofollow noopener noreferrer">Hydration</a>). After hydration, the SSR part is never used again. Subsequent updates on the page either require a network call from the client-side or a total refresh of the page, which will cause the loss of states.</p>
<p>Server component, on the other hand, is not meant to replace server-side rendering, but complement it. Instead of returning HTML string to the client, the server component returns a JSON description of the rendered UI elements (Virtual DOM). Using them together allows for faster initial load by first rendering into an intermediate format, then having server-side rendering infrastructure converts into HTML.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b6bcc86c47703c8a06ff372b05f9c2f8/fc2a6/jsxon.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiUlEQVQoz21R2ZKbQAzk/z8q+xTHtfGGw4ANGBYYLg832GDHRwdpd1N5iKZUPSP1SK0Z5TSc0NYtymOJUpaoyxrTeUJT1TjmBSopl1iFy3nmnCwk82nfVA3OpzOfqc50mqD0bY9UpNBVHYZmwLH3S2JGEAi8vqqfrmEcZmRJBu2XBmtrwdk58D0ft+sNSZxg7EdcpguU2+8brpcrhn5AUzfoux5SViiqEXHWQOQtMjlCpCWrIe/ajnlt00Ie5d97FFew2DAMEELA3Jo4eAdsjS26rl3QgOe6yLMUtmkiTVIkScIcy7Kgazpevr1g9X2F8D1EFEVQns8nd/IPPpy9g8APsN/t+WIQvDMxDEPs7B1zPNdjpNGpILllWojCCIlIPgqSVOpqWzY8z4OqqpykT6IGruNyM8L1jzU2Pzd427xhvVpzjBoYusHFeeRq+UV6w6IouEie5ZimiZHeRsSCFXddx57n+aI++FCqaoijGPM0M1+53+88MuG/9ng8GGkCWl8xOv/Pvvh/ADStUKbetu5nAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="JSON Description of UI element"
        title="JSON Description of UI element"
        src="/static/b6bcc86c47703c8a06ff372b05f9c2f8/fc2a6/jsxon.png"
        srcset="/static/b6bcc86c47703c8a06ff372b05f9c2f8/69538/jsxon.png 160w,
/static/b6bcc86c47703c8a06ff372b05f9c2f8/72799/jsxon.png 320w,
/static/b6bcc86c47703c8a06ff372b05f9c2f8/fc2a6/jsxon.png 450w"
        sizes="(max-width: 450px) 100vw, 450px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>For the update sequence, when the client triggers a request that a given unit of UI is refetched, the whole process happens on the server and then progressively streamed to the client. After that, React on the client-side takes over by merging the changes with existing components on screen. This approach not only helps preserves important UI states such as focus or typing inputs but is also likely to reduce bundle size because the component only renders on the server and never shipped to the client.</p>
<h2>Conclusion</h2>
<p><strong>Good user experience</strong>, <strong>cheap maintenance</strong>, and <strong>fast performance</strong>. Which two do you choose?</p>
<p>Historically, React forced you to choose two out of three of these constraints. And this is what the server component proposal is trying to solve. To give your users a good experience by tying together each lower-level component that gets pushed around based on asynchronous data resolving. To provide developers cheap maintenance by delegating data requirements as low down the component tree as possible. And to allow fast performance by eliminating the high latency network calls and large bundle size that slow down the overall page display.</p>
<p>While the news about the server component is all exciting, it is still in the research and development phase and not yet ready. According to React team, server components will first be introduced to frameworks like NextJs or in the form of <a href="https://webpack.js.org/" target="_blank" rel="nofollow noopener noreferrer">webpack</a> or <a href="https://parceljs.org/" target="_blank" rel="nofollow noopener noreferrer">parcel</a> plugins.</p>
<p>In the current state of React, all the components in any React application can be considered either an isomorphic component if the codebase is using server-side rendering or client component if there is no server-side rendering. With the addition of server component, things will get quite scary because we'll need to think about three types of components (server, client and shared) that behave differently based on the environment instead of one.</p></div></div></main><footer class="mLayout-footer"><p class="mLayout-footerCredit">Designed &amp; Built by Frendy Guo</p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-162139722-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/server-component-the-react-way-to-ssr/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2966d4d8fea208fd6f8f.js"],"app":["/app-c1fd813b1bddfad27b4b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-6dff525f7fbddb031481.js"],"component---src-pages-about-js":["/component---src-pages-about-js-631073b6129d830be748.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-5bd855d3e571a1213316.js"],"component---src-pages-index-js":["/component---src-pages-index-js-76b881f4530139d07894.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-0986093f5936688b470e.js"]};/*]]>*/</script><script src="/polyfill-2966d4d8fea208fd6f8f.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-0986093f5936688b470e.js" async=""></script><script src="/commons-80983d8e1774978fa56f.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-c1fd813b1bddfad27b4b.js" async=""></script><script src="/framework-741ade27086b2708e961.js" async=""></script><script src="/webpack-runtime-b2021809fbe43130367a.js" async=""></script></body></html>